/**
 * jquery.imageCursorZoom
 * jQuery Plugin
 *
 * @author bitofsky@neowiz.com
 * @since 2015.09.10
 * @see https://github.com/bitofsky/jquery.imagecursorzoom
 * @license MIT
 * @version 1.0
 */
"use strict";(function(window,$,define){$.imageCursorZoom=imageCursorZoom;$.fn.imageCursorZoom=function(option){return this.on('click.imageCursorZoom',function(){imageCursorZoom(this,option);});};function imageCursorZoom(elm,option){var opt=$.extend(true,{parent:'BODY'},option),$parent=$(typeof opt.parent=='function'?opt.parent.call(elm):opt.parent),$wrapper=$('<div/>'),$clone=$(elm).clone().css({width:'auto',height:'auto',transition:opt.transition}),parentWidth=0,parentHeight=0,isBody=$parent[0]===$('BODY')[0],originPosition=$parent.css('position');(isBody?$(window):$parent).on('resize',onResize).trigger('resize');if(!isBody)$parent.css('position','relative');$wrapper.on('mousemove.imageCursorZoom',onMousemove);$wrapper.css({overflow:'hidden',position:'absolute',left:0,top:0,background:'white',width:'100%',height:'100%','z-index':9999}).on('click',destroy).append($clone).appendTo($parent);function onMousemove(event){var width=+$clone[0].clientWidth||$clone.width(),height=+$clone[0].clientHeight||$clone.height(),ratioX=(event.pageX/parentWidth)>1?1:(event.pageX/parentWidth),ratioY=(event.pageY/parentHeight)>1?1:(event.pageY/parentHeight),posX=-(width-parentWidth)*ratioX,posY=-(height-parentHeight)*ratioY;if(posX>0)posX=0;if(posY>0)posY=0;$clone.css('transform','translate('+posX+'px, '+posY+'px)');}function onResize(event){parentWidth=+$(this).width();parentHeight=+$(this).height();}function destroy(){$clone.remove();$wrapper.remove();$parent.css('position',originPosition);}}if(define&&define.amd)define('imageCursorZoom',[],function(){return imageCursorZoom;});})(this,this.jQuery,this.define);
